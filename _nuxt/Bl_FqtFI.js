import{n as y,f as r,p as _,c,s as f,o as p,a as s,R as u,S as m,t as b,T as h,_ as w}from"./BBsuUFjf.js";const S={key:0},k={class:"form-row"},x={class:"form-group"},V={class:"form-group"},C={class:"form-group"},E=["disabled"],M={key:0,class:"status success"},I={key:1,class:"status error"},T=y({__name:"Contact",setup(U){const o=r({name:"",email:"",message:""}),l=r("idle"),n=r(!1),d=r(""),i=r(!1);async function v(){const a=await fetch("/api/formspree/checkId"),e=await a.json();a.ok?(console.log(e),e.success?i.value=!0:i.value=!1):(i.value=!1,console.error("Error:",e.error))}const g=async()=>{if(d.value){l.value="error";return}n.value=!0,l.value="idle";try{const a=await $fetch("/api/formspree/submit",{method:"POST",body:o.value});if(typeof a=="object"&&a!==null&&"error"in a){const e=a.error;throw new Error(e)}l.value="success",o.value={name:"",email:"",message:""}}catch(a){l.value="error",console.error("Submission failed:",a instanceof Error?a.message:a)}finally{n.value=!1}};return _(()=>{v()}),(a,e)=>i.value?(p(),c("div",S,[s("form",{onSubmit:h(g,["prevent"]),class:"email-form"},[s("div",k,[s("div",x,[e[4]||(e[4]=s("label",{for:"name"},"Name",-1)),u(s("input",{id:"name","onUpdate:modelValue":e[0]||(e[0]=t=>o.value.name=t),type:"text",name:"name",required:"",placeholder:"Your full name"},null,512),[[m,o.value.name]])]),s("div",V,[e[5]||(e[5]=s("label",{for:"email"},"Email",-1)),u(s("input",{id:"email","onUpdate:modelValue":e[1]||(e[1]=t=>o.value.email=t),type:"email",name:"email",required:"",placeholder:"you@example.com"},null,512),[[m,o.value.email]])])]),s("div",C,[e[6]||(e[6]=s("label",{for:"message"},"Message",-1)),u(s("textarea",{id:"message","onUpdate:modelValue":e[2]||(e[2]=t=>o.value.message=t),name:"message",required:"",placeholder:"Type your message here...",rows:"9"},null,512),[[m,o.value.message]])]),u(s("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>d.value=t),type:"text",name:"_gotcha",style:{display:"none"}},null,512),[[m,d.value]]),s("button",{type:"submit",disabled:n.value},b(n.value?"Sending...":"Send"),9,E),l.value==="success"?(p(),c("p",M,"Message sent successfully!")):l.value==="error"?(p(),c("p",I,"Something went wrong. Please try again.")):f("",!0)],32)])):f("",!0)}}),B=w(T,[["__scopeId","data-v-4e192981"]]);export{B as C};
